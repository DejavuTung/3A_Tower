# 背景地图功能测试指南

## 测试步骤

### 1. 在Unity编辑器中设置背景地图
1. 打开Unity编辑器
2. 在Project窗口中导航到`Assets/Sprites/`目录
3. 找到`Map.jpg`文件
4. 在Hierarchy中选择包含`AutoTowerDefenseDemo`脚本的游戏对象
5. 在Inspector面板中找到"图像资源"部分
6. 将`Map.jpg`拖拽到"Background Map"字段中

### 2. 测试背景地图显示
1. 点击Play按钮开始游戏
2. 点击"开始游戏"按钮
3. 观察是否在游戏场景中显示了背景地图
4. 检查Console窗口中的调试信息：
   - 应该看到"背景地图已创建"的消息
   - 应该显示屏幕尺寸和背景缩放信息

### 3. 测试背景地图缩放
1. 调整Unity编辑器的Game视图大小
2. 重新开始游戏
3. 观察背景地图是否正确适应不同的屏幕尺寸
4. 检查背景是否完全覆盖了屏幕区域

### 4. 测试游戏重启时的背景地图
1. 开始游戏并让游戏进行一段时间
2. 让游戏结束（基地血量降为0）
3. 点击"再来一次"按钮
4. 观察背景地图是否正确重新创建
5. 检查Console窗口中是否有"销毁背景地图"和"背景地图已创建"的消息

### 5. 测试背景地图层级
1. 开始游戏
2. 观察背景地图是否在所有游戏元素的最底层
3. 确认基地、防御塔、敌人等元素都能正常显示在背景之上

## 预期结果

### 正常情况
- 背景地图应该正确显示在游戏场景中
- 背景地图应该自动缩放以适应屏幕
- 背景地图应该位于所有游戏元素的最底层
- 游戏重启时背景地图应该正确销毁和重建

### 错误情况
- 如果背景地图Sprite未设置，会在Console中看到警告信息
- 如果MAP.jpg文件不存在，背景地图不会显示

## 调试信息

在Console窗口中应该看到以下调试信息：
```
背景地图已创建 - 屏幕尺寸: [宽度]x[高度], 背景缩放: [缩放值]
```

如果背景地图未设置：
```
背景地图Sprite未设置，跳过背景创建
```

在游戏重启时：
```
销毁背景地图
背景地图已创建 - 屏幕尺寸: [宽度]x[高度], 背景缩放: [缩放值]
```

## 常见问题

### 1. 背景地图不显示
- 检查MAP.jpg是否正确拖拽到Inspector中的Background Map字段
- 检查MAP.jpg文件是否存在于Assets/Sprites/目录中
- 检查Console窗口中是否有错误信息

### 2. 背景地图显示不正确
- 检查MAP.jpg的导入设置是否正确
- 确保MAP.jpg被设置为Sprite类型
- 检查背景地图的缩放是否合适

### 3. 背景地图层级问题
- 检查背景地图的sortingOrder是否设置为-10
- 确保其他游戏元素的sortingOrder值大于-10

## 文件位置
- 背景地图文件：`Assets/Sprites/Map.jpg`
- 实现代码：`Assets/Scripts/AutoTowerDefenseDemo.cs`
- 测试文档：`Assets/BACKGROUND_MAP_TEST.md` 